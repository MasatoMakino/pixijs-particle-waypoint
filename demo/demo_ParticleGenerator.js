(()=>{"use strict";var t,e,a,i={1750:(t,e,a)=>{var i=a(7080),s=a(179);class r extends i.J3{constructor(){super(...arguments),this.r=0,this.rotationSpeedSin=0,this.rotationSpeedCos=0,this.rotationSin=0,this.rotationCos=0}get bitmap(){return this._bitmap}init(t,e,a,i,r){this.parent=t,this._bitmap=s.kxk.from(e),this._bitmap.anchor.set(.5,.5),this._bitmap.blendMode=r,this.parent.addChild(this._bitmap),this.r=a*Math.random(),this.rotationSpeedSin=i*(2*Math.random()-1),this.rotationSpeedCos=i*(2*Math.random()-1),this.rotationSin=2*Math.random()*Math.PI,this.rotationCos=2*Math.random()*Math.PI}update(t){const e=super.update(t),a=this.path.getPoint(e);if(this._bitmap.x=a[0],this._bitmap.y=a[1],this.r>0){const e=this.rotationSpeedSin*t+this.rotationSin,a=this.rotationSpeedCos*t+this.rotationCos;this._bitmap.x+=Math.cos(a)*this.r,this._bitmap.y+=Math.sin(e)*this.r}return e}dispose(){super.dispose(),this.parent&&this._bitmap.parent&&this._bitmap.parent.removeChild(this._bitmap),this.parent=null,this._bitmap=null}}class n extends i.IR{constructor(t,e,a,i){super(e,i),this.mapCounter=0,this._isInit=!1,this.parent=t,this._rangeR=i?.rangeR??0,this._rangeRotationSpeed=i?.rangeRotationSpeed??0,this._blendMode=i?.blendMode??"normal",Array.isArray(a)?(0===a.length&&(console.warn("PixiParticleGenerator : オプションとして渡されたテクスチャ配列が空です。このクラスは動作しますが、一切の表示を行いません。"),console.trace()),this.map=a):this.map=[a]}async initAssets(){await s.sP.load(this.map),this._isInit=!0}generateParticle(t){this.checkInit();const e=new r(t);return e.init(this.parent,this.map[this.mapCounter],this._rangeR,this._rangeRotationSpeed,this._blendMode),this.mapCounter=(this.mapCounter+=1)%this.map.length,e}generateAll(){this.mapCounter=0,super.generateAll()}checkInit(){if(!this._isInit)throw new Error("PixiParticleGenerator : このクラスを使用する前にinitAssets()を呼び出してください。")}get rangeRotationSpeed(){return this._rangeRotationSpeed}set rangeRotationSpeed(t){this._rangeRotationSpeed=t}get rangeR(){return this._rangeR}set rangeR(t){this._rangeR=t}}class o extends i.o_{constructor(t,e){super(t),this.passageColor=16711680,this.passageAlpha=.25,e&&(this.passageColor=e?.passageColor??this.passageColor,this.passageAlpha=e?.passageAlpha??this.passageAlpha,e?.parent&&this.initPassage(e.parent))}initPassage(t){this.passage||(this.passage=new s.A1g,this.passage.visible=!1,t.addChild(this.passage),this.drawPassage())}drawPassage(){if(!this.passage)return;if(!this.points)return;if(this.points.length<=1)return;const t=6===this.points[1].length,e=this.passage;e.clear(),this.points.forEach(((a,i)=>{0!==i?t?e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]):e.lineTo(a[0],a[1]):e.moveTo(a[0],a[1])})),e.stroke({width:1,color:this.passageColor,alpha:this.passageAlpha})}onSetPoints(){super.onSetPoints(),this.drawPassage()}showPassage(){this.passage&&(this.passage.visible=!0)}hidePassage(){this.passage&&(this.passage.visible=!1)}}var p=a(638),h=a(5452);const l=async()=>{const t=new s.lgM;await t.init({width:640,height:480}),document.body.appendChild(t.canvas),(0,s.eEW)(s.W3c[t.renderer.type]);const e=(r=t.stage,new o(i.aX.subdivide([[199.999692558296,139.037809861326],[199.999692558296,139.037809861326,216.517501342052,91.0703552349714,260.408864739813,101.478048251449],[304.306569058069,111.887435228376,302.040473463538,149.898168782486,297.969050788655,167.089794944798],[293.891253219557,184.314831799952,266.291989537884,213.247676318414,241.405592420215,229.538070494226],[216.517501342052,245.828464670041,201.360366325658,263.475297677716,199.999692558296,269.360116287618],[198.644947652665,263.475297677716,183.481883774538,245.828464670041,158.595486656873,229.538070494226],[133.70739557871,213.247676318414,106.111932139903,184.314831799952,102.030334327938,167.089794944798],[97.9589002789453,149.898168782486,95.6966160382817,111.887435228376,139.592214337275,101.478048251449],[183.481883774538,91.0703552349714,199.999692558296,139.037809861326,199.999692558296,139.037809861326]]),{parent:r})),a=d(e,t.stage);var r;await a.initAssets(),a.play(),c(a)},d=(t,e)=>{const a=[];for(let t=0;t<12;t++)a.push(`./circle${(t+1).toString().padStart(2,"0")}.png`);const i=new n(e,t,a,{ease:h.GS.Cubic.InOut,blendMode:"add"});return i.animator.setSpeed(166,48),i},c=t=>{const e={isPlay:!0,path:"heart",ease:"cubicInOut",valve:!0,mode:"sequential",visiblePassage:!1,clear:()=>{t.particleContainer.removeAll()}},a=new p.Ay,s=t.animator;a.add(s,"generationInterval",1,1e3),a.add(s,"speedPerSec",1e-4,.5),a.add(t,"rangeR",0,32,.1),a.add(t,"rangeRotationSpeed",0,12.56,.01),a.add(e,"ease",["cubicOut","cubicInOut","liner"]).onChange((()=>{let a=null;switch(e.ease){case"cubicOut":a=h.GS.Cubic.Out;break;case"cubicInOut":a=h.GS.Cubic.InOut}s.updateEase(a,t.isLoop)})),a.add(e,"path",["heart","circle","triangle"]).onChange((()=>{let a;switch(e.path){case"heart":a=i.aX.subdivide([[199.999692558296,139.037809861326],[199.999692558296,139.037809861326,216.517501342052,91.0703552349714,260.408864739813,101.478048251449],[304.306569058069,111.887435228376,302.040473463538,149.898168782486,297.969050788655,167.089794944798],[293.891253219557,184.314831799952,266.291989537884,213.247676318414,241.405592420215,229.538070494226],[216.517501342052,245.828464670041,201.360366325658,263.475297677716,199.999692558296,269.360116287618],[198.644947652665,263.475297677716,183.481883774538,245.828464670041,158.595486656873,229.538070494226],[133.70739557871,213.247676318414,106.111932139903,184.314831799952,102.030334327938,167.089794944798],[97.9589002789453,149.898168782486,95.6966160382817,111.887435228376,139.592214337275,101.478048251449],[183.481883774538,91.0703552349714,199.999692558296,139.037809861326,199.999692558296,139.037809861326]]);break;case"circle":a=i.aX.subdivide((()=>{const t=200,e=200,a=4*(Math.sqrt(2)-1)/3*100;return[[300,200],[300,a+e,a+t,300,200,300],[-a+t,300,100,a+e,100,200],[100,-a+e,-a+t,100,200,100],[a+t,100,300,-a+e,300,200]]})());break;case"triangle":a=[[200,100],[300,273.205080756887],[100,273.205080756887],[200,100]]}t.path[0].points=a})),a.add(e,"isPlay").onChange((()=>{e.isPlay?t.play():t.stop()}));const r=t.modeManager;a.add(r,"mode",["sequential","loop"]),a.add(e,"valve").onChange((()=>{const a=t.valve;e.valve?a.open():a.close()})),a.add(e,"visiblePassage").onChange((()=>{const a=t.multipleWays.ways;e.visiblePassage?a[0].showPassage():a[0].hidePassage()})),a.add(e,"clear")};"loading"!==document.readyState?l():document.addEventListener("DOMContentLoaded",l)}},s={};function r(t){var e=s[t];if(void 0!==e)return e.exports;var a=s[t]={exports:{}};return i[t](a,a.exports,r),a.exports}r.m=i,t=[],r.O=(e,a,i,s)=>{if(!a){var n=1/0;for(l=0;l<t.length;l++){for(var[a,i,s]=t[l],o=!0,p=0;p<a.length;p++)(!1&s||n>=s)&&Object.keys(r.O).every((t=>r.O[t](a[p])))?a.splice(p--,1):(o=!1,s<n&&(n=s));if(o){t.splice(l--,1);var h=i();void 0!==h&&(e=h)}}return e}s=s||0;for(var l=t.length;l>0&&t[l-1][2]>s;l--)t[l]=t[l-1];t[l]=[a,i,s]},r.d=(t,e)=>{for(var a in e)r.o(e,a)&&!r.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},r.f={},r.e=t=>Promise.all(Object.keys(r.f).reduce(((e,a)=>(r.f[a](t,e),e)),[])),r.u=t=>t+".js",r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),e={},a="@masatomakino/pixijs-particle-waypoint:",r.l=(t,i,s,n)=>{if(e[t])e[t].push(i);else{var o,p;if(void 0!==s)for(var h=document.getElementsByTagName("script"),l=0;l<h.length;l++){var d=h[l];if(d.getAttribute("src")==t||d.getAttribute("data-webpack")==a+s){o=d;break}}o||(p=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,r.nc&&o.setAttribute("nonce",r.nc),o.setAttribute("data-webpack",a+s),o.src=t),e[t]=[i];var c=(a,i)=>{o.onerror=o.onload=null,clearTimeout(u);var s=e[t];if(delete e[t],o.parentNode&&o.parentNode.removeChild(o),s&&s.forEach((t=>t(i))),a)return a(i)},u=setTimeout(c.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=c.bind(null,o.onerror),o.onload=c.bind(null,o.onload),p&&document.head.appendChild(o)}},r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.j=670,(()=>{var t;r.g.importScripts&&(t=r.g.location+"");var e=r.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var a=e.getElementsByTagName("script");if(a.length)for(var i=a.length-1;i>-1&&(!t||!/^http(s?):/.test(t));)t=a[i--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=t})(),(()=>{var t={670:0};r.f.j=(e,a)=>{var i=r.o(t,e)?t[e]:void 0;if(0!==i)if(i)a.push(i[2]);else{var s=new Promise(((a,s)=>i=t[e]=[a,s]));a.push(i[2]=s);var n=r.p+r.u(e),o=new Error;r.l(n,(a=>{if(r.o(t,e)&&(0!==(i=t[e])&&(t[e]=void 0),i)){var s=a&&("load"===a.type?"missing":a.type),n=a&&a.target&&a.target.src;o.message="Loading chunk "+e+" failed.\n("+s+": "+n+")",o.name="ChunkLoadError",o.type=s,o.request=n,i[1](o)}}),"chunk-"+e,e)}},r.O.j=e=>0===t[e];var e=(e,a)=>{var i,s,[n,o,p]=a,h=0;if(n.some((e=>0!==t[e]))){for(i in o)r.o(o,i)&&(r.m[i]=o[i]);if(p)var l=p(r)}for(e&&e(a);h<n.length;h++)s=n[h],r.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return r.O(l)},a=self.webpackChunk_masatomakino_pixijs_particle_waypoint=self.webpackChunk_masatomakino_pixijs_particle_waypoint||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))})();var n=r.O(void 0,[121],(()=>r(1750)));n=r.O(n)})();